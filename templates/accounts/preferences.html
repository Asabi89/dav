{% extends 'base.html' %}

{% block title %}Préférences | OPay{% endblock %}

{% block content %}
<div class="dashboard-container">
    <!-- En-tête avec bouton retour -->
    <div class="flex items-center justify-between mb-6">
        <div class="flex items-center">
            <a href="{% url 'settings' %}" class="mr-4 text-gray-600 hover:text-primary-600 transition-colors">
                <i class="fas fa-arrow-left"></i>
            </a>
            <h1 class="text-2xl font-bold text-gray-800">Préférences</h1>
        </div>
    </div>
    
    <!-- Section Notifications -->
    <div class="bg-white rounded-xl shadow-sm p-6 mb-6">
        <h2 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
            <i class="fas fa-bell text-primary-600 mr-2"></i> Notifications
        </h2>
        
        <div class="space-y-4">
            <div class="flex items-center justify-between py-3 border-b border-gray-100">
                <div>
                    <p class="font-medium text-gray-800">Notifications par e-mail</p>
                    <p class="text-sm text-gray-500">Recevoir des e-mails pour les activités importantes</p>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer" checked>
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"></div>
                </label>
            </div>
            
            <div class="flex items-center justify-between py-3 border-b border-gray-100">
                <div>
                    <p class="font-medium text-gray-800">Notifications push</p>
                    <p class="text-sm text-gray-500">Recevoir des notifications sur votre appareil</p>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer" checked>
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"></div>
                </label>
            </div>
            
            <div class="flex items-center justify-between py-3 border-b border-gray-100">
                <div>
                    <p class="font-medium text-gray-800">Notifications de transactions</p>
                    <p class="text-sm text-gray-500">Être notifié pour chaque transaction</p>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer" checked>
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"></div>
                </label>
            </div>
            
            <div class="flex items-center justify-between py-3">
                <div>
                    <p class="font-medium text-gray-800">Offres et promotions</p>
                    <p class="text-sm text-gray-500">Recevoir des offres spéciales et promotions</p>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer">
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"></div>
                </label>
            </div>
        </div>
    </div>
    
    <!-- Section Apparence -->
    <div class="bg-white rounded-xl shadow-sm p-6 mb-6">
        <h2 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
            <i class="fas fa-palette text-primary-600 mr-2"></i> Apparence
        </h2>
        
        <div class="space-y-4">
            <div class="py-3 border-b border-gray-100">
                <p class="font-medium text-gray-800 mb-3">Thème</p>
                <div class="flex space-x-3">
                    <label class="flex flex-col items-center cursor-pointer">
                        <div class="w-16 h-16 rounded-lg bg-white border-2 border-primary-600 flex items-center justify-center mb-2">
                            <i class="fas fa-sun text-primary-600 text-xl"></i>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" name="theme" class="mr-2" checked>
                            <span class="text-sm">Clair</span>
                        </div>
                    </label>
                    
                    <label class="flex flex-col items-center cursor-pointer">
                        <div class="w-16 h-16 rounded-lg bg-gray-800 border-2 border-gray-300 flex items-center justify-center mb-2">
                            <i class="fas fa-moon text-white text-xl"></i>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" name="theme" class="mr-2">
                            <span class="text-sm">Sombre</span>
                        </div>
                    </label>
                    
                    <label class="flex flex-col items-center cursor-pointer">
                        <div class="w-16 h-16 rounded-lg bg-gradient-to-r from-white to-gray-800 border-2 border-gray-300 flex items-center justify-center mb-2">
                            <i class="fas fa-adjust text-gray-600 text-xl"></i>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" name="theme" class="mr-2">
                            <span class="text-sm">Système</span>
                        </div>
                    </label>
                </div>
            </div>
            
            <div class="py-3">
                <p class="font-medium text-gray-800 mb-3">Couleur d'accent</p>
                <div class="flex flex-wrap gap-3">
                    <label class="cursor-pointer">
                        <input type="radio" name="accent" class="sr-only peer">
                        <div class="w-8 h-8 rounded-full bg-primary-600 peer-checked:ring-2 peer-checked:ring-offset-2 peer-checked:ring-primary-600"></div>
                    </label>
                    
                    <label class="cursor-pointer">
                        <input type="radio" name="accent" class="sr-only peer">
                        <div class="w-8 h-8 rounded-full bg-blue-600 peer-checked:ring-2 peer-checked:ring-offset-2 peer-checked:ring-blue-600"></div>
                    </label>
                    
                    <label class="cursor-pointer">
                        <input type="radio" name="accent" class="sr-only peer">
                        <div class="w-8 h-8 rounded-full bg-purple-600 peer-checked:ring-2 peer-checked:ring-offset-2 peer-checked:ring-purple-600"></div>
                    </label>
                    
                    <label class="cursor-pointer">
                        <input type="radio" name="accent" class="sr-only peer">
                        <div class="w-8 h-8 rounded-full bg-red-600 peer-checked:ring-2 peer-checked:ring-offset-2 peer-checked:ring-red-600"></div>
                    </label>
                    
                    <label class="cursor-pointer">
                        <input type="radio" name="accent" class="sr-only peer">
                        <div class="w-8 h-8 rounded-full bg-green-600 peer-checked:ring-2 peer-checked:ring-offset-2 peer-checked:ring-green-600"></div>
                    </label>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Section Langue et région -->
    <div class="bg-white rounded-xl shadow-sm p-6 mb-6">
        <h2 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
            <i class="fas fa-globe text-primary-600 mr-2"></i> Langue et région
        </h2>
        
        <div class="space-y-4">
            <div class="py-3 border-b border-gray-100">
                <label class="block">
                    <span class="font-medium text-gray-800">Langue</span>
                    <select class="form-select mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-500 focus:ring-opacity-50">
                        <option value="fr">Français</option>
                        <option value="en">English</option>
                        <option value="es">Español</option>
                        <option value="ar">العربية</option>
                    </select>
                </label>
            </div>
            
            <div class="py-3">
                <label class="block">
                    <span class="font-medium text-gray-800">Format de devise</span>
                    <select class="form-select mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-500 focus:ring-opacity-50">
                        <option value="xof">FCFA (XOF)</option>
                        <option value="eur">Euro (€)</option>
                        <option value="usd">Dollar ($)</option>
                    </select>
                </label>
            </div>
        </div>
    </div>
    
    <!-- Section Confidentialité -->
    <div class="bg-white rounded-xl shadow-sm p-6 mb-6">
        <h2 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
            <i class="fas fa-user-shield text-primary-600 mr-2"></i> Confidentialité
        </h2>
        
        <div class="space-y-4">
            <div class="flex items-center justify-between py-3 border-b border-gray-100">
                <div>
                    <p class="font-medium text-gray-800">Partage de données</p>
                    <p class="text-sm text-gray-500">Autoriser le partage de données pour améliorer les services</p>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer" checked>
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"></div>
                </label>
            </div>
            
            <div class="flex items-center justify-between py-3">
                <div>
                    <p class="font-medium text-gray-800">Historique de navigation</p>
                    <p class="text-sm text-gray-500">Enregistrer l'historique de navigation dans l'application</p>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer">
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"></div>
                </label>
            </div>
        </div>
    </div>
    
    <!-- Bouton d'enregistrement -->
    <div class="flex justify-end">
        <button type="button" class="px-6 py-3 bg-primary-600 text-white rounded-md font-medium hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all">
            Enregistrer les préférences
        </button>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
               // Animation pour les boutons radio d'accent
        const accentInputs = document.querySelectorAll('input[name="accent"]');
        accentInputs[0].checked = true; // Sélectionner la couleur par défaut
        
        // Animation pour les toggles
        const toggles = document.querySelectorAll('input[type="checkbox"]');
        toggles.forEach(toggle => {
            toggle.addEventListener('change', function() {
                const toggleDiv = this.nextElementSibling;
                if (this.checked) {
                    toggleDiv.classList.add('animate-pulse');
                    setTimeout(() => {
                        toggleDiv.classList.remove('animate-pulse');
                    }, 500);
                }
            });
        });
        
        // Effet de sélection pour les thèmes
        const themeRadios = document.querySelectorAll('input[name="theme"]');
        themeRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                // Réinitialiser toutes les bordures
                document.querySelectorAll('input[name="theme"]').forEach(r => {
                    const container = r.closest('label').querySelector('div');
                    container.classList.remove('border-primary-600');
                    container.classList.add('border-gray-300');
                });
                
                // Mettre en évidence le thème sélectionné
                if (this.checked) {
                    const container = this.closest('label').querySelector('div');
                    container.classList.remove('border-gray-300');
                    container.classList.add('border-primary-600');
                }
            });
        });
        
        // Simuler l'enregistrement des préférences
        const saveButton = document.querySelector('button[type="button"]');
        saveButton.addEventListener('click', function() {
            // Afficher un indicateur de chargement
            const originalText = this.innerHTML;
            this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Enregistrement...';
            this.disabled = true;
            
            // Simuler un délai d'enregistrement
            setTimeout(() => {
                this.innerHTML = '<i class="fas fa-check mr-2"></i> Enregistré !';
                
                // Restaurer le bouton après un moment
                setTimeout(() => {
                    this.innerHTML = originalText;
                    this.disabled = false;
                }, 2000);
            }, 1500);
        });
    });
</script>
{% endblock %}
